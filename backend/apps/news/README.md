# News Module

Модуль новостей для образовательного портала.

## Основные возможности

- Создание и редактирование новостей с использованием блочного редактора
- Система тегов для категоризации новостей
- Режимы черновика и публикации
- Загрузка изображений для обложек и контента
- Краткое описание для превью новостей

## Модели

### News
- `title` - заголовок новости
- `short_description` - краткое описание (до 500 символов)
- `content` - основное содержимое (для старого редактора)
- `content_blocks` - блоки контента (JSON для блочного редактора)
- `image` - обложка новости
- `tags` - теги (Many-to-Many)
- `is_published` - статус публикации
- `published_at` - дата публикации
- `uses_block_editor` - использует ли блочный редактор

### Tag
- `name` - название тега
- `slug` - URL-friendly идентификатор

## API Endpoints

### Новости
- `GET /api/news/` - список опубликованных новостей (для всех) или всех новостей (для админов)
- `GET /api/news/{id}/` - детальная информация о новости
- `POST /api/news/` - создать новость (только админы)
- `PATCH /api/news/{id}/` - обновить новость (только админы)
- `DELETE /api/news/{id}/` - удалить новость (только админы)
- `POST /api/news/{id}/publish/` - опубликовать новость (только админы)
- `POST /api/news/{id}/unpublish/` - вернуть в черновик (только админы)
- `GET /api/news/latest/` - последние 5 новостей
- `POST /api/news/upload_image/` - загрузить изображение для контента (только админы)

### Теги
- `GET /api/news/tags/` - список всех тегов
- `GET /api/news/tags/{id}/` - конкретный тег
- `POST /api/news/tags/` - создать тег (только админы)
- `PATCH /api/news/tags/{id}/` - обновить тег (только админы)
- `DELETE /api/news/tags/{id}/` - удалить тег (только админы)

## Management Commands

### create_default_tags
Создает стандартные теги для новостей:
- События
- Образование
- Объявления
- Новости курса
- Достижения
- Расписание

Использование:
```bash
python manage.py create_default_tags
```

## Блочный редактор

Модуль новостей поддерживает следующие типы блоков:
- `text` - текстовый блок с форматированием
- `image` - изображение с подписью
- `link` - ссылка

Блок `homework` не поддерживается в новостях (только в курсах).

## Permissions

- Просмотр опубликованных новостей - все пользователи
- Просмотр черновиков - только админы
- Создание/редактирование/удаление новостей - только админы
- Управление тегами - только админы (просмотр доступен всем)
